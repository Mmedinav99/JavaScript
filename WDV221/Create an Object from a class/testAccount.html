<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bank Account Event Handler Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .output {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #ccc;
      background: #f9f9f9;
    }
    input, button, select {
      margin: 5px 0;
      padding: 5px;
    }
  </style>
</head>
<body>

  <h1>Bank Account Event Handler Test</h1>

  <!-- Deposit controls -->
  <label for="depositAmount">Deposit Amount:</label>
  <input type="number" id="depositAmount" placeholder="Enter amount">
  <button id="depositBtn">Deposit</button>

  <!-- Withdraw controls -->
  <label for="withdrawAmount">Withdraw Amount:</label>
  <input type="number" id="withdrawAmount" placeholder="Enter amount">
  <button id="withdrawBtn">Withdraw</button>

  <!-- Paragraph to hover -->
  <p id="hoverText">Hover over this paragraph to see account info.</p>

  <!-- Select element -->
  <label for="transactionSelect">Choose transaction type:</label>
  <select id="transactionSelect">
    <option value="">--Select--</option>
    <option value="deposit">Deposit</option>
    <option value="withdraw">Withdraw</option>
    <option value="balance">Check Balance</option>
  </select>

  <!-- Output area -->
  <div class="output" id="outputArea">
    <h2>Account Info</h2>
    <p id="accountName"></p>
    <p id="accountNumber"></p>
    <p id="accountBalance"></p>
    <h2>Transactions</h2>
    <ul id="transactionList"></ul>
  </div>

  <script type="module">
    import BankAccount from './BankAccount.js';

    // Create a new account
    const myAccount = new BankAccount(500);
    myAccount.accountNumber = "123456";
    myAccount.accountName = "Martin Medina";

    // Update display function
    function updateDisplay() {
      document.getElementById("accountName").textContent = "Name: " + myAccount.accountName;
      document.getElementById("accountNumber").textContent = "Number: " + myAccount.accountNumber;
      document.getElementById("accountBalance").textContent = "Balance: " + myAccount.balance();

      const list = document.getElementById("transactionList");
      list.innerHTML = "";
      myAccount.accountTransactions.forEach(t => {
        const li = document.createElement("li");
        li.textContent = `${t.transactionDate} - ${t.transactionType} - ${t.transactionAmount}`;
        list.appendChild(li);
      });
    }

    // Event handlers
    function depositHandler() {
      const amount = parseFloat(document.getElementById("depositAmount").value);
      try {
        myAccount.deposit(amount);
        updateDisplay();
        console.log("Deposit event triggered.");
      } catch (error) {
        alert(error.message);
      }
    }

    function withdrawHandler() {
      const amount = parseFloat(document.getElementById("withdrawAmount").value);
      try {
        myAccount.withdraw(amount);
        updateDisplay();
        console.log("Withdraw event triggered.");
      } catch (error) {
        alert(error.message);
      }
    }

    function hoverHandler() {
      console.log("Mouseover event triggered on paragraph.");
      updateDisplay();
    }

    function selectHandler(event) {
      if (event.target.value === "balance") {
        alert("Current Balance: " + myAccount.balance());
      }
      console.log(`Transaction type selected: ${event.target.value}`);
    }

    // Attach event listeners
    document.getElementById("depositBtn").addEventListener("click", depositHandler);
    document.getElementById("withdrawBtn").addEventListener("click", withdrawHandler);
    document.getElementById("hoverText").addEventListener("mouseover", hoverHandler);
    document.getElementById("transactionSelect").addEventListener("change", selectHandler);

    // Initial display
    updateDisplay();
  </script>

</body>
</html>
